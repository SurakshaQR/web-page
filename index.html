async function loadData() {
    try {
        const response = await fetch(apiURL);
        const data = await response.json();
        const user = data[0]; 

        document.getElementById('userName').innerText = user.Name;
        document.getElementById('bloodGroup').innerText = "Blood Group: " + user.Blood_Group;
        document.getElementById('callBtn').href = "tel:" + user.Emergency_Contact_1;

        // --- SMART SINGLE-COLUMN SOCIAL LOGIC ---
        const socialContainer = document.querySelector('.social-row');
        socialContainer.innerHTML = ''; 

        if (user.Social_Links && user.Social_Links.trim() !== "") {
            // Split the single column by commas
            const linksArray = user.Social_Links.split(',');

            linksArray.forEach(link => {
                const url = link.trim();
                let icon = 'fas fa-link'; // Default icon
                let color = '#fff';

                // Auto-detect platform from URL
                if (url.includes('facebook.com')) { icon = 'fab fa-facebook'; color = '#1877F2'; }
                else if (url.includes('instagram.com')) { icon = 'fab fa-instagram'; color = '#E4405F'; }
                else if (url.includes('linkedin.com')) { icon = 'fab fa-linkedin'; color = '#0A66C2'; }
                else if (url.includes('youtube.com') || url.includes('youtu.be')) { icon = 'fab fa-youtube'; color = '#FF0000'; }

                socialContainer.innerHTML += `
                    <a href="${url}" target="_blank" style="color: white; font-size: 24px; transition: 0.3s;" 
                       onmouseover="this.style.color='${color}'" 
                       onmouseout="this.style.color='white'">
                        <i class="${icon}"></i>
                    </a>`;
            });
        }

        // WhatsApp Notify Logic
        const msg = `Alert! Your vehicle is wrongly parked. Please check.`;
        document.getElementById('notifyBtn').href = `https://wa.me/${user.Emergency_Contact_1}?text=${encodeURIComponent(msg)}`;

    } catch (e) { console.log("Error:", e); }
}
